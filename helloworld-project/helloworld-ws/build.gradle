apply plugin: 'java'
apply plugin: 'application'

repositories {
    mavenCentral()
}

dependencies {
    // testCompile group: 'junit', name: 'junit', version: '4.13'
    testImplementation group: 'junit', name: 'junit', version: '4.13'
    implementation 'com.sun.xml.ws:jaxws-ri:2.3.3'
    implementation 'javax.annotation:javax.annotation-api:1.3.2'
}


task buildCustom(type: Jar) {
    from sourceSets.main.output
    archiveBaseName = 'helloworld-tvucicevic-gradle-build'
    archiveVersion = '1.0.0'
    manifest {
        attributes 'Implementation-Title': 'Gradle Quickstart',
                   'Implementation-Version': archiveVersion
    }
}

task log(type:Exec) {
    workingDir '.'
    commandLine 'bash', '-c', 'gradle buildCustom --stacktrace > output.log'
}


task testCustom(type: Test) {
    dependsOn buildCustom
}

task hello {
    dependsOn testCustom
    doLast {
        println 'Hello, world!'
    }
}